# ArchDistribution (v1.0.0)

**문화유적분포지도 자동 생성 & 스마트 분류 엔진**

이 플러그인은 고고학 연구자와 조사기관을 위해 개발된 QGIS 전용 자동화 도구입니다. 복잡한 수치지형도 병합, 유적 분류, 도곽 설정, 스타일링 작업을 단 한 번의 클릭으로 해결합니다.

---

## 🚀 작업 순서 (Step-by-Step Workflow)

### 1단계: 레이어 준비
QGIS에 다음 레이어들을 미리 불러옵니다:
- **조사지역 (Polygon)**: 분석의 기준이 되는 조사 범위
- **수치지형도 (Line/Polygon)**: 배경 지도 데이터 (DXF, NGI 등)
- **주변 유적 (Point/Polygon)**: 분포지도에 표시할 유적 레이어

### 2단계: 플러그인 실행
- 툴바에서 🏛 아이콘을 클릭하여 플러그인 창을 엽니다.

### 3단계: 입력 레이어 선택 (탭 1)
- **조사지역 선택**: 기준 폴리곤 레이어 선택
- **수치지형도**: 배경으로 사용할 레이어 체크
- **주변 유적**: 분석할 유적 레이어 체크

### 4단계: 도곽 및 축척 설정 (탭 1)
- **도면 가로(W)**: 출력 도면의 가로 크기 (mm)
- **도면 세로(H)**: 출력 도면의 세로 크기 (mm)
- **축척(Scale)**: 지도 축척 분모 (예: 5000 → 1:5,000)
- *Tip: 프리셋 버튼으로 보고서(160x240) 또는 A4(210x297) 자동 입력*

### 5단계: 스마트 분류 실행 (탭 1)
- **[속성 분류 실행]** 버튼 클릭
- 시대별/유형별 유적이 자동 분류됩니다
- **제외 제안 목록**: '입회조사', '보호수' 등 비유적 항목 확인 및 조정

### 6단계: 스타일 설정 (탭 2) - 선택사항
- 유적, 조사지역, 지형도의 색상과 선 두께 조정
- 버퍼 거리 추가 (50m, 100m 등)

### 7단계: 분석 실행
- **[▶ 분석 및 지도 생성 실행]** 클릭
- 자동으로 지형도 병합, 유적 번호 부여, 스타일 적용

### 8단계: 결과 확인
- 레이어 패널에 결과 그룹 생성
- PDF/Excel 반출 가능

---

## ✨ 주요 기능

### 🧠 스마트 필터링 & 정밀 분류
- **유물 정밀 포착**: '사지'로 등록된 유적도 '석불' 키워드가 있으면 '불교석조물'로 재분류
- **분묘 세분화**: 지석묘(고인돌) / 고분(옛무덤) / 분묘(일반) 구분
- **제외 제안**: 입회조사, 보호수 등 자동 감지

### 🎨 자동화 기능
- 수치지형도 병합 및 스타일 적용
- 버퍼 분석 (다중 거리)
- 도곽 자동 계산
- 유적 번호 자동 부여 (북→남, 거리순, 가나다순)

---

## 🐛 문제 발생 시
오류가 발생하면 플러그인 하단의 **'진행 상태 로그'** 내용을 복사하여 아래 GitHub Issues에 붙여넣어 주세요.
로그 정보가 있으면 문제를 훨씬 빠르게 해결할 수 있습니다.

---

## 📞 지원 및 문의
*   **저자**: lzpxilfe
*   **Github**: https://github.com/lzpxilfe/ArchDistribution
*   **License**: GPL v2
